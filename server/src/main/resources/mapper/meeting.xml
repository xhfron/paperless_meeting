<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xhfron.paperless.dao.MeetingDao">
    <insert id="createMeeting" useGeneratedKeys="true" keyProperty="uid" parameterType="com.xhfron.paperless.bean.MeetingDO">
        insert into `meeting`
        (`uid`, `name`, `content`, `begin_time`, `end_time`)
        values(uid, #{name}, #{content}, #{beginTime}, #{endTime});
    </insert>

    <select id="getMeetingList" resultType="com.xhfron.paperless.bean.MeetingVO">

        select * from meeting join meeting_state on uid = id limit 300;
    </select>

    <update id="changeMeetingState">
        update meeting_state
        set state = #{state}
        where id = #{meetingId}
    </update>

    <insert id="insertMeetingState">
        insert into `meeting_state` values(#{uid},100);
    </insert>
</mapper>